<UserControl x:Class="TourPlanner.Views.TourPreviewView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:converter="clr-namespace:TourPlanner.Helper"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800"
             Background="AliceBlue">

    <UserControl.Resources>
        <Style TargetType="Button">
            <Setter Property="Background" Value="#3399CC" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="Padding" Value="10 5" />
            <Setter Property="Margin" Value="5" />
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="5">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <converter:PathConverter x:Key="PathConverter" />
    </UserControl.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto">
    <Grid Margin="10">
            <Border Background="White"
                    CornerRadius="10"
                    Padding="20"
                    BorderBrush="#3399CC"
                    BorderThickness="1"
                    HorizontalAlignment="Stretch">
                
                <StackPanel HorizontalAlignment="Stretch">
                    <TextBlock Text="Tour Details"
                               FontWeight="Bold"
                               FontSize="20"
                               Foreground="#3399CC"
                               TextAlignment="Center"
                               Margin="0 0 0 20"/>

                <StackPanel DataContext="{Binding SelectedTour}">
                        <ScrollViewer HorizontalScrollBarVisibility="Auto"
              VerticalScrollBarVisibility="Auto"
              MaxHeight="500"
              Margin="0 0 0 20">
                            <Image
                                Source="{Binding Path=ImagePath, Converter={StaticResource PathConverter}, FallbackValue='https://via.placeholder.com/1000x600.png'}"
                                Stretch="None"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Top"/>
                        </ScrollViewer>

                        <StackPanel Orientation="Vertical" Margin="10,0" HorizontalAlignment="Stretch">
                            <TextBlock Text="{Binding Name}" FontSize="18" FontWeight="Bold" TextAlignment="Center" Foreground="#333"/>
                        <TextBlock Text="{Binding From, StringFormat=From: {0}}" FontSize="14" Margin="0,5,0,0"/>
                        <TextBlock Text="{Binding To, StringFormat=To: {0}}" FontSize="14"/>
                        <TextBlock Text="{Binding Transport, StringFormat=Transport: {0}}" FontSize="14"/>
                            <TextBlock Text="{Binding Description, StringFormat=Description: {0}}" FontSize="14" TextWrapping="Wrap" Margin="0,5,0,0"/>
                    </StackPanel>
                </StackPanel>

                    <Button Content="Open Details"
                            Command="{Binding DetailsCommand}"
                            HorizontalAlignment="Center"
                            Width="140"
                            Margin="0 25 0 0"/>
            </StackPanel>
        </Border>
    </Grid>
    </ScrollViewer>
</UserControl>
